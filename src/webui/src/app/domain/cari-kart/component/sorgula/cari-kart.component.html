<form [formGroup]="sorguForm">

    <div class="ui-g ui-fluid">

        <div class="ui-g-12">
            <div class="card card-w-title">
                <h1>{{'menu.cari.sorgulama' | translate}}</h1>

                <div class="ui-g form-group">
                    <div class="ui-g-12 ui-md-4">
                        <div class="ui-inputgroup">
                            <span class="ui-inputgroup-addon"><i class="fa fa-address-card-o"></i></span>
                            <span class="ui-float-label">
                             <input id="cariKodu" formControlName="cariKodu" type="text" pInputText
                                    style="border-left:0">
                            <label for="cariKodu">{{'label.cari.kodu' | translate}}</label>
                        </span>
                        </div>
                    </div>

                    <div class="ui-g-12 ui-md-4">
                        <div class="ui-inputgroup">
                            <span class="ui-inputgroup-addon"><i class="fa fa-newspaper-o"></i></span>
                            <span class="ui-float-label">
                             <input id="cariAdi" formControlName="cariAdi" type="text" pInputText style="border-left:0">
                            <label for="cariAdi">{{'label.cari.adi' | translate}}</label>
                        </span>
                        </div>
                    </div>

                    <div class="ui-g-12 ui-md-4">
                        <button pButton type="button" label="{{'btn.sorgula' | translate}}"
                                (click)="sorgula()"></button>
                    </div>

                </div>
            </div>
        </div>

        <div class="ui-g-12">
            <div class="card">
                <p-table #dt dataKey="id" [columns]="cols" [value]="resultList" [lazy]="true"
                         (onLazyLoad)="loadLazy($event)" [paginator]="true" [rowHover]="true" [responsive]="true"
                         [showCurrentPageReport]="true" [rowsPerPageOptions]="[20,50,100]"
                         currentPageReportTemplate="Showing {first} to {last} of {totalRecords} entries"
                         [rows]="20" [totalRecords]="totalRecords" [loading]="loading">
                    <ng-template pTemplate="caption">
                        {{'label.cari.kartÄ±.listesi' | translate}}
                    </ng-template>
                    <ng-template pTemplate="header" let-columns>
                        <tr>
                            <th *ngFor="let col of columns" [pSortableColumn]="col.field">
                                {{col.header}}
                            </th>
                        </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-rowData let-columns="columns">
                        <tr [pSelectableRow]="rowData">
                            <td *ngFor="let col of columns" [ngSwitch]="col.type">
                                <div *ngSwitchCase="ColumnType.PARA">
                                    <span class="ui-column-title">{{col.header}}</span>
                                    {{rowData[col.field] | paraFormat}}
                                </div>
                                <div *ngSwitchDefault>
                                    <span class="ui-column-title">{{col.header}}</span>
                                    {{rowData[col.field]}}
                                </div>
                            </td>
                        </tr>
                    </ng-template>
                </p-table>
            </div>
        </div>

    </div>
</form>
